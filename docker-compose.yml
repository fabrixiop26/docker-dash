version: "3.9"
services:
  db:
    build:
      context: .
      dockerfile: Dockerfile.postgres
    container_name: postgresdb
    environment:
      - POSTGRES_USERNAME=postgres
      - POSTGRES_PASSWORD=12345
    volumes:
      - "./db:/var/lib/postgresql/data"
    ports:
      - "5433:5432"
  dash:
    build:
      context: .
      dockerfile: Dockerfile.dash
    container_name: dash_app
    command: python app.py
    volumes:
      - ./dash:/code
    ports:
      - "80:8080"
    depends_on:
        - db
  jupyter:
    build:
      context: .
      dockerfile: Dockerfile.notebook
    container_name: notebook
    volumes:
      - ./jupyter:/home/jovyan
    ports:
      - "8888:8888"
        

    